<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="content-language" content="en">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex">

    <title>WhatsApp Wrapped</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Afacad+Flux:wght@100..1000&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Color+Emoji&display=swap" rel="stylesheet">   
    <link rel="stylesheet" href="/static/css/results.css">

    <!-- Load d3.js -->
    <script src="https://d3js.org/d3.v4.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/holtzy/D3-graph-gallery@master/LIB/d3.layout.cloud.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dom-to-image/2.6.0/dom-to-image.min.js"></script>
    <script src="/static/js/results.js"></script>
</head>
<body>
    <div class="pages" id="page-indicators"></div>

    <div class="page active" id="page-0">
        <div class="button-wrapper">
            <button onclick="nextPage()"><h2 class="visible">Ready?</h2></button>
        </div>
        <h4 class="share-message small">Swipe up to share your current slide</h4>
        <h4 class="share-message big">Press arrow up to share your current slide</h4>
    </div>

    <div class="page" id="page-1">
        <div class="button-wrapper participant-layers" id="participants"></div>
    </div>
    
    <div class="page" id="page-2">
        <h2 class="first">You sent <span id="total">0</span> messages</h2>
    </div>

    <div class="page" id="page-3">
        <h3 class="first">You had your peak on</h3>
        <h2 class="second"><span id="best_day_date">0</span> with <span id="best_day_messages">0</span> messages</h2>
    </div>
    
    <div class="page" id="page-4">
        <h2 class="first">You are most active on <span id="most_active_day">0</span></h2>

        <div class="day-chart">
            <div id="sunday"><span>Sun</span></div>
            <div id="monday"><span>Mon</span></div>
            <div id="tuesday"><span>Tue</span></div>
            <div id="wednesday"><span>Wed</span></div>
            <div id="thursday"><span>Thu</span></div>
            <div id="friday"><span>Fri</span></div>
            <div id="saturday"><span>Sat</span></div>
        </div>
    </div>
    
    <div class="page" id="page-5">
        <h2 class="first">Your years have its ups and downs</h2>
        <h3 class="second">However <span id="most_active_month">0</span> definitely is your busiest month</h3>

        <div class="month-chart">
            <div id="january"><span>January</span></div>
            <div id="february"><span>February</span></div>
            <div id="march"><span>March</span></div>
            <div id="april"><span>April</span></div>
            <div id="may"><span>May</span></div>
            <div id="june"><span>June</span></div>
            <div id="july"><span>July</span></div>
            <div id="august"><span>August</span></div>
            <div id="september"><span>September</span></div>
            <div id="october"><span>October</span></div>
            <div id="november"><span>November</span></div>
            <div id="december"><span>December</span></div>
        </div>
    </div>
    
    <div class="page" id="page-6">
        <h3 class="first">You talked through</h3>
    </div>

    <div class="page" id="page-7">
        <h3 class="first">Throughout all that time</h3> 
        <h2 class="second"><span id="first_chatter"></span> texted first the most</h2>
        <h3 class="third"><span id="second_chatter"></span>, you should close in on that <span id="chatter_gap"></span>% gap</h3>
    </div>

    <div class="page" id="page-8">
        <h3 class="first">Y'all talked a lot</h3>
        <h2 class="second">But <span id="most_messages"></span> talked the most</h2>
        <h3 class="third">Sending <span id="most_messages_percentage"></span>% of messages</h3>
    </div>

    <div class="page" id="page-9">
        <h3 class="first">You were confident chatters</h3>
        <h2 class="second">But <span id="most_edits"></span> edited <span id="edit_ratio"></span>% of their messages</h2>
        <h3 class="fourth">maybe not that confident after all...</h3>
    </div>

    <div class="page" id="page-10">
        <h4 class="first"><span id="streak-start"></span> you started chatting and didn't miss a beat until <span id="streak-end"></span></h4>
        <h2 class="third">That is <span id="streak"></span>!</h2>
    </div>

    <div class="page" id="page-11">
        <h2 class="first">What is it you have so much to talk about?</h2>
    </div>
    
    <div class="page" id="page-12">
        <div id="word-cloud"></div>
        <canvas id="words-chart"></canvas>
    </div>

    <div class="page" id="page-13">
        <h2 class="first">You guys really keep things interesting <span class="emoji">😏</span></h2>
        <h3 class="second">Sending over <span id="total_emojis"></span> emojis</h3>
    </div>

    <div class="page" id="page-14">
        <div class="emoji-chart" id="emoji-chart"></div>
    </div>

    <div class="page" id="page-15">
        <div class="share-card" id="share-card">
            <div class="button-wrapper stats" id="stat-participants">
                <h4 class="stat visible"><span id="participant-0"></span><div class="user-deco user-deco-0"></div><div class="user-deco user-deco-1"></div><div class="user-deco user-deco-2"></div></h4>
                <h4 class="stat visible"><span id="participant-1"></span><div class="user-deco user-deco-0"></div><div class="user-deco user-deco-1"></div><div class="user-deco user-deco-2"></div></h4>
            </div>
            <div class="stats">
                <div class="stat">
                    <b>Top words</b>
                    <ol id="top-words">
                    </ol>
                </div>
                <div class="stat">
                    <b>Top emojis</b>
                    <ol id="top-emojis">
                    </ol>
                </div>
            </div>
            <div class="stats">
                <div class="stat">
                    <b>Total messages</b>
                    <span id="total_messages">0</span>
                </div>
                <div class="stat">
                    <b>Longest streak</b>
                    <span id="streak_2">0</span>
                </div>
            </div>
            <p>
                www.whatswrapped.net
            </p>
        </div>

        <div class="colour-picker">
            <div class="colour" onclick="selectColour('#fe4773')" style="background-color:#fe4773;"></div>
            <div class="colour" onclick="selectColour('#f6d68d')" style="background-color:#f6d68d;"></div>
            <div class="colour" onclick="selectColour('#46b3a5')" style="background-color:#46b3a5;"></div>
            <div class="colour" onclick="selectColour('#2e6d92')" style="background-color:#2e6d92;"></div>
        </div>

        <div class="share-button button-wrapper">
            <button onclick="generateImage('share-card')"><h4 class="visible">Share</h4></button>
        </div>
    </div>

    <div class="share" id="share">
        <div class="emoji" onclick="restart()">🔁</div>
        <div class="emoji" onclick="generateImage(`page-${pageId}`)">🔗</div>
        <div class="emoji" onclick="nextPage()">▶</div>
    </div>
</body>
</html>